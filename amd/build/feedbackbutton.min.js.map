{"version":3,"file":"feedbackbutton.min.js","sources":["../src/feedbackbutton.js"],"sourcesContent":["import $ from 'jquery';\nimport {get_string as getString} from 'core/str';\nimport Templates from 'core/templates';\nimport Modal from 'core/modal';\nimport ModalEvents from 'core/modal_events';\nimport ModalSaveCancel from 'core/modal_save_cancel';\nimport Notification from 'core/notification';\n\nconst SELECTORS = {\n    PROBLEM_BUTTON: '#problem_button',\n    SUGGESTION_BUTTON: '#suggestion_button',\n    BACK_BUTTON: '#back_button',\n    CANCEL_BUTTON: '#cancel_button'\n};\n\nconst TEMPLATES = {\n    FEEDBACK_MODAL_BODY: 'theme_urcourses/feedback_modal_body',\n    FEEDBACK_MODAL_PROBLEM_FORM: 'theme_urcourses/feedback_modal_problem_form',\n    FEEDBACK_MODAL_SUGGESTION_FORM: 'theme_urcourses/feedback_modal_suggestion_form'\n};\n\nconst init = (root) => {\n    registerEventListeners($(root));\n};\n\nconst registerEventListeners = (root) => {\n    root.on('click', async (e) => {\n        e.preventDefault();\n        const modal = await Modal.create({\n            title: getString('feedback_modal_header', 'theme_urcourses'),\n            body: Templates.render(TEMPLATES.FEEDBACK_MODAL_BODY, {}),\n            removeOnClose: true,\n            show: true,\n            large: true\n        });\n        modal.getBody().on('click', SELECTORS.PROBLEM_BUTTON, () => {\n            modal.setBody(Templates.render(TEMPLATES.FEEDBACK_MODAL_PROBLEM_FORM, {}));\n        });\n        modal.getBody().on('click', SELECTORS.SUGGESTION_BUTTON, () => {\n            modal.setBody(Templates.render(TEMPLATES.FEEDBACK_MODAL_SUGGESTION_FORM, {}));\n        });\n        modal.getBody().on('click', SELECTORS.BACK_BUTTON, () => {\n            modal.setBody(Templates.render(TEMPLATES.FEEDBACK_MODAL_BODY, {}));\n        });\n        modal.getBody().on('click', SELECTORS.CANCEL_BUTTON, () => {\n            modal.setBody(Templates.render(TEMPLATES.FEEDBACK_MODAL_BODY, {}));\n        });\n    });\n};\n\nexport default {\n    init: init,\n};"],"names":["SELECTORS","TEMPLATES","registerEventListeners","root","on","async","e","preventDefault","modal","Modal","create","title","body","Templates","render","removeOnClose","show","large","getBody","setBody","init"],"mappings":"mtBAQMA,yBACc,kBADdA,4BAEiB,qBAFjBA,sBAGW,eAHXA,wBAIa,iBAGbC,8BACmB,sCADnBA,sCAE2B,8CAF3BA,yCAG8B,iDAO9BC,uBAA0BC,OAC5BA,KAAKC,GAAG,SAASC,MAAAA,IACbC,EAAEC,uBACIC,YAAcC,eAAMC,OAAO,CAC7BC,OAAO,mBAAU,wBAAyB,mBAC1CC,KAAMC,mBAAUC,OAAOb,8BAA+B,IACtDc,eAAe,EACfC,MAAM,EACNC,OAAO,IAEXT,MAAMU,UAAUd,GAAG,QAASJ,0BAA0B,KAClDQ,MAAMW,QAAQN,mBAAUC,OAAOb,sCAAuC,QAE1EO,MAAMU,UAAUd,GAAG,QAASJ,6BAA6B,KACrDQ,MAAMW,QAAQN,mBAAUC,OAAOb,yCAA0C,QAE7EO,MAAMU,UAAUd,GAAG,QAASJ,uBAAuB,KAC/CQ,MAAMW,QAAQN,mBAAUC,OAAOb,8BAA+B,QAElEO,MAAMU,UAAUd,GAAG,QAASJ,yBAAyB,KACjDQ,MAAMW,QAAQN,mBAAUC,OAAOb,8BAA+B,yBAK3D,CACXmB,KA9BUjB,OACVD,wBAAuB,mBAAEC"}